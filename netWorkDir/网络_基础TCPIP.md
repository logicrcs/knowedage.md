# 	TCP/IP

当前使用的网络都是在tcp/ip协议族的基础上运作的，http就属于它的一个子集TCP/IP是互联网各种协议（protocol）族的统称。

## 分层

**应用层，传输层，网络层，数据链路层** 

- 分层的优点：

  1. 可维护性：更改时只需要替换改动的层级。

  2. 低耦合：每次的设计变得简单了，处于应用层就可以只考虑  

     分派任务

- 各层的作用：

  **应用层：**决定向用户提供应用服务时通信的活动

  TCP/IP协议族内预存了各种通用的应用协议。HTTP协议就

  处于这层。

  如：FTP(File Transfer Protocol) 文件传输协议

  ​	DNS(Domain Name System) 域名系统服务，**DNS服务**

  ​	与HTTP协议一样处于应用层，提供域名到IP地址解析服务。

  **传输层：**对应上层应用层，提供处于网络连接中的两台计算机之间

  数据传输。存在两个性质不同的协议分别是

  ​	**TCP**(Transmission Control Protocol) 传输控制协议

  ​	**UDP**(User Data Protocol) 用户数据报协议

  **网络层：** 用于处理网络上流动的数据包(网络传输的最小数据单位)

  规定通过怎样的路径将数据包传送的对方。IP协议在这层。

  **链路层：**用于处理连接网络的硬件部分。包括

  控制操作系统，硬件的设备驱动，

  NIC(Network interface Card) 网络适配器 即网卡。

  光纤及连接器等一切传播媒介。

  总的来说，硬件均在链路层的作用范围之内。

- TCP/IP在分层中的具体实现（以HTTP协议为例）

  1. 客户机在因应用层(http协议)发出一个web页面的HTTTP请求

  2. `传输层(TCP协议)`接收到来自应用层发来的数据(HTTP请求报文)，将其分割成数据包，并在每个包上打上标记序号

     及端口号转发给网络层。

  3. `网络层(IP协议)`在包上增加最为通信目的地的MAC地址后

     转发给线路层，至此数据包就被封装完毕了。

  4. 客户机在链路层将数据传递出去，而接受端的服务器在链路

     层收到数据。反向走一遍流程最终在应用层接收到HTTP数据。

- **封装：**数据在层与层之间传输数据时，每经过一层被打上这一层

  的首部信息。服务器端就在每一层把对应的首部消去。



##	常用协议

- IP(Internet Protocol)网际协议位于网络层。几乎所有使用网络的系统都使用IP协议

  **IP与IP地址：**IP是一种协议的名称，IP地址是在互联网中确定

  机器身份的地址。指明了节点中被分配到的地址。

  IP地址与MAC地址的区别就是IP地址可更换，而MAC地址基本不会

  更改，因为MAC地址指的是网所属的固定地址，IP地址可以和MAC

  地址进行配对。

  IP协议的作用是把各种数据包传递给对方。同时需要IP地址和

  MAC地址。

- ARP协议(Address Resolution Protocol)

  由于网络上通信双方极少处于同一局域网下，一般是使用多台

  计算机进行中转进行连接。而搜索确定下一个中转设备就使用

  的就是MAC地址。

  ARP协议就是用于解析地址的协议，根据通信方IP地址可以反查 

  出对应的MAC地址。

- TCP协议

  位于传输层，提供可靠的字节流服(Byte Stream Service) 

  TCP协议能够确认数据是否送达。

  由于大段数据在传输途中一旦出错就难以修正。所以将其分割

  成报文段(segment)为单位的数据包进行管理。这样就容易

  实现可靠的传输服务。

  **三次握手**

  1. 发送端先发送一个带有SYN(synchronize)标志的数据包

     给接收端。

  2. 接受端收到后回传一个带有SYN/ACK标志的数据包表示已 

     接受到对应的信息

  3. 发送端再回传一个带有ACK标志的数据包代表握手结束。

## URI与URL

**URI(Uniform Rsesource Identifier)**统一资源标识符

- Uniform

  规定统一格式方便处理不同类型资源。既不用根据上下文环境

  判断资源的访问方式，也方便了加入新的协议方案。

- Resource

  可标识的任何东西

- Identifier

  可标识的对象。

URI是某种协议方案表示的资源的定位标识符，协议方案就代表资源

访问时使用的名称。HTTP协议对应的协议方案就是http，即

***URI表示的就是某一互联网资源，URL就是资源的地址，URL是***

**URI的子集**

**URL(Uniform Rsesource Locator)**统一资源定位符

URL强调再网络能够定位到这个资源，有点类似于个人住址。而URI

是宏观的能够表示这个资源就行了，无论通过住址还是身份证号，

只要能够表明这个人就行。所以，URL其实是URI这个概念的一种

实现方式。