# 主要不足

- 不加密，内容可能被窃听
- 不验证，用户可能被伪装
- 不校验，无法证明完整，可能被篡改

事实上，其他未加密协议也有这些问题。

## 通信使用明文可能被窃听

**一般使用加密处理防止被窃听**

- 通信加密

  HTTP协议没有加密机制，但使用SSL(Secure Socket Layer,

  安全套接层)或TLS(Transport Layer Security,安全层传输

  协议)，加密HTTP的通信内容。

  用SSL建立安全通信线路之后，在这条线路上进行HTTP通信。

  ***与SSL组合使用的HTTP被称为HTTPS(HTTP Secure)***

  ***即 超文本传输安全协议***

  HTTP over SSL 或是说HTTPS也是目前绝大多数网站使用，

  chrome系浏览器会将HTTP强制转成HTTPS

- 内容加密

  HTTP协议本身没有加密，那么就将HTTP协议传输的内容加密。

  在这种情况下，就是对***报文首部不进行加密处理，对包含内容***

  ***的报文主体进行加密***

  但是，这种机制就要求客户端与服务器同时具有加解密机制，

  并且依然不能防止内容被篡改，毕竟加密本身不能提供校验

  功能。

## 不验证就可以伪装客户端身份

由于任何人均可发起请求，所以服务器端天然在验证客户端身份上存在

困难。故，在客户端IP和端口号没有被服务器拒绝访问的现状下，服务器一经请求就会原路返回一个响应。所以，问题是

***服务器不知道客户端的身份，客户端不知道服务器的身份***

***服务器无法确定客户端的访问权限***

***对DoS(Denial of Service，即拒绝服务器攻击)无能为力***

- 证书服务

  既然HTTP协议无法确定双方身份，那么就可以由第三方提供

  身份验证，由值得信赖的第三方对双方提供身份认证。就像

  现实生活中公民的身份证明，企业的公章，提供认证的就是

  政府一样，借由SSL不仅能够实现加密处理，还能实现证书

  的服务。

## 没有校验，报文安全与完整不能保证

HTTP协议没有校验功能，报文实体的完整与安全就不能保证，在请求

与响应过程中，就可能出现中间人攻击(Man-in-the-Middle attack)

MITM。

***校验完整性***

在一般情况下，提供文件下载的网站同时会提供数字签名(Pretty Good Privacy,完美隐私)，和校验码(MD5生成的散列值)。但是这两种方法均

要求用户自行验证。并且也没办法保证提供的签名和校验码也是对的。

## HTTPS

而在以上三种情况下，就使用了同时拥有加密，认证，完整性保护的

**HTTPS(HTTP Secure)**

`HTTPS是HTTP的通信接口部分使用SSL与TLS协议替换了。HTTP在与TCP通信`

`之前先和SSL通信，由SSL与TCP通信，SSL作为外壳包裹了HTTP`

SSL可以与应用层的许多协议配合使用，实现网络安全技术。

### SSL

- 公开密钥加密技术(Public-key cryptography)

  `加密算法公开，密钥保密`

  其原理就是**共享密钥加密**，也称对称密钥加密。

  (Common key crypto system)

  加密与解密使用同一个密钥，只要拿到密钥，谁都能解密。

  那么保证密钥的安全性就格外重要。