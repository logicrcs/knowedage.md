`OSI参考模型的分层对通信中必要的功能做了很好的归纳,但实际上`

`普遍应用的是TCP/IP的四层协议`

# 应用层

`为应用程序提供服务并规定应用程序中通信相关的细节`

包括文件传输，电子邮件，远程登录(虚拟终端)等协议。比如HTTP

就是为WEB应用创立的协议。

# 表示层

`将应用处理的信息转换为适合网络传输的格式(上到下)，或是将来自`

`下一层的数据转换为上层能够处理的格式`

具体来说就是将设备固有的数据格式转换为网络标准传输格式。

比如网卡不仅能够传输HTTP文件也能传输FTP文件，就是基于这种

能够将所有格式转化为标准格式的能力。但在实际中表示层和

应用层都被放在了一起。

# 会话层

`负责建立和断开通信连接(数据流动的逻辑通路)以及数据的分割数据`

`传输相关的管理`

# 传输层

`起着可靠传输的作用，只在通信双方节点上进行处理，无需路由器上`

`处理`TCP就在这一层，

# 网络层

`将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而`

`成的某一个地址。因此这一层主要负责寻址和路由选择。`IP就在这一层

# 数据链路层

`负责物理层面上互连的，节点之间的通信传输`例如与1个以太网相连

2个节点之间的通信。

​	将0，1序列划分为具有意义的数据帧传送给对端(数据帧的

生成与接受)

**协议：**定义了通过通信媒介互连的设备之间传输的规范。

## MAC地址

​	`MAC地址用于识别数据链路中互连的节点，MAC地址规范没有`

`限定数据链路类型，不管哪种数据链路的网络(以太网，FDDI,ATM`

`无线LAN,蓝牙)，都不会出现相同MAC地址`

**MAC地址构成：**MAC地址长48位，在这48个bit之中，含义如下

- 第一位：单播地址(0)/多播地址(1)

- 第二位：全局地址(0)/本地地址(1)

- 第3~24位：厂商识别码，每一个NIC厂商都有唯一的

  识别数字，由IEEE管理保证每个厂家的不重复。

- 第25~48位：厂商内部为识别每个网卡使用，有厂商

  保证之间不重复。

`但是在显示的过程中一般为了方便查看，就将MAC地址转化为`

`16进制查看`

```
C:\Users\Administrator>ipconfig/all

Windows IP 配置

   主机名  . . . . . . . . . . . . . : PC-20210218IXTW
   主 DNS 后缀 . . . . . . . . . . . :
   节点类型  . . . . . . . . . . . . : 混合
   IP 路由已启用 . . . . . . . . . . : 否
   WINS 代理已启用 . . . . . . . . . : 否
   DNS 后缀搜索列表  . . . . . . . . : ZYYT

以太网适配器 以太网:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Realtek PCIe GbE Family Controller
   物理地址. . . . . . . . . . . . . : FC-45-96-9E-42-8B
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是

无线局域网适配器 本地连接* 9:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter
   物理地址. . . . . . . . . . . . . : C8-21-58-66-E0-BE
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是

无线局域网适配器 本地连接* 10:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2
   物理地址. . . . . . . . . . . . . : CA-21-58-66-E0-BD
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是

无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 . . . . . . . : ZYYT
   描述. . . . . . . . . . . . . . . : Intel(R) Dual Band Wireless-AC 7265
   物理地址. . . . . . . . . . . . . : C8-21-58-66-E0-BD
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是
   本地链接 IPv6 地址. . . . . . . . : fe80::f53a:5421:84fc:77be%9(首选)
   IPv4 地址 . . . . . . . . . . . . : 10.96.8.153(首选)
   子网掩码  . . . . . . . . . . . . : 255.255.252.0
   获得租约的时间  . . . . . . . . . : 2021年6月2日 14:27:32
   租约过期的时间  . . . . . . . . . : 2021年6月3日 0:58:05
   默认网关. . . . . . . . . . . . . : 10.96.8.1
   DHCP 服务器 . . . . . . . . . . . : 10.75.240.186
   DHCPv6 IAID . . . . . . . . . . . : 197665112
   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-27-BF-87-17-FC-45-96-9E-42-8B
   DNS 服务器  . . . . . . . . . . . : 10.75.1.1
                                       10.75.1.2
   TCPIP 上的 NetBIOS  . . . . . . . : 已启用
```

FC-45-96-9E-42-8B 换算成真实的MAC地址是

11111100(FC)01000101(45)10010110(96)10011110(9E)-

-01000010(42)10001011(8B)

可以将16进制直接1位折换4位的转化为16位

0-0000，1-0001，2-0010，3-0011，

4-0100，5-0101，6-0110，7-0111，

8-1000，9-1001，A-1010,B-1011,

C-1100,D-1101,E-1110,F-1111。

https://mac.bmcx.com/ `可以根据这个网址查询`

**例外：**如果一个主机启动多个虚拟机，每个虚拟机就会有一个

虚拟网卡，这是很难保证MAC地址独一无二。

## 以太网交换机运作方式

根据`数据链路层中每个帧的目标MAC地址`，决定从那个网络接口发送数据

参考转发表，但是转发表的内容不需要手动设置，可以自动生成。数

据链路层每个通过点在接到包时，会将`源MAC地址(即发送方地址)与对`

`应的目标接口`作为对应关系放入转发表中，即，该MAC地址就是该接

口的目标。以该MAC地址最为目标地址的包，就有该接口送出即可，这

就是自学。换做通俗的话表示

***

*主机A通过端口1与交换机连接，**这时交换机还不知道主机A***

***连在了端口1上**，当主机A向其他主机传递数据时，**交换机***

***这时才根据主机A的数据包确定了主机A与端口1相连，***

***数据包有发送主机的MAC地址，并且是从端口1发来的，现在***

***交换机就将MAC地址A与端口1对应关系写入转发表**，这样交换*

*机就知道了以后只要有发完MAC地址A的数据包就给端口1送过去*

***

但是由于MAC地址没有层次无法包含多层地址，那么如果一个数据

链路中的网络设备过多，检索转发表的时间就会极大的影响效率。

所以，就有必要将网络分成多个数据链路。采用类似网络层的IP地址

一样对地址进行分层管理。

# 物理层

`负责0，1比特流与电压的高低，光的闪灭之间的互换`